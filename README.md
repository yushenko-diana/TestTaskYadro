
В данном репозитории представлено решение тестового задания.



Для клонирования проекта необходимо выполнить команду:



`git clone git@github.com:yushenko-diana/TestTaskYadro.git --recurse-submodules`




Сборка и запуск осуществляются следующими командами:



### 1.Сборка

```mkdir build && cd build```



```cmake ..```



```make```



### 2.Запуск

```cd build```

```./testTask <inputTapeName> <outputTapeName>```



### 3.Запуск тестов

```./runTests </absolute/path/to/configFile>```



---

- Входная и выходная ленты располагаются в рабочей папке.

- В случае, если выходная лента не была создана заранее, она создастся в рабочей папке.

- Данные в лентах находятся в бинарном виде.

- Для генерации входной ленты в проекте есть генератор, который заполняет ленту рандомными числами в диапазоне от [min(int32), max(int32)]. Для его запуска необходимо выполнить пункт 1 и запустить следующую команду из папки `build`:

`./generateInputData <size> </absolute/path/to/inputFile>`,

где `<size>` - количество данных, `</absolute/path/to/work/directory>`[^1] - абсолютный путь до входной ленты. Входной файл с именем `inputData` будет записан в пап.

- В корневой папке проекта также располагается конфигурационный файл, в котором задаются задержки по чтению/записи, перемотки (на одну ячейку) в *микросекундах*, размер "оперативной памяти" в *байтах*,  количество временных лент, необходимых для работы алгоритма сортировки, а так же абсолютный путь до папки, в которой будут располагаться необходимые для работы алгоритма файлы[^1]:

```json

{

"readWriteDelay": <microseconds>,

"rewindDelay": <microseconds>,

"ramSize": <bytes>,

"numberOfTemporaryTapes": <num>,

"pathToWorkDirectory": "/absolute/path/to/work/directory"

}

```


- Для сортировки входной ленты использутеся алгоритм внешней сортировки k-путевым слиянием, при котором исходная лента разбивается на чанки размером с RAM , которые затем сортируются и распределются по k лентам (k задается настройкой `numberOfTemporaryTapes`), образуя серии чанков. Далее каждые серии сливаются в отсортированные данные. После сортировки всех серий данные сливаются в выходной файл.


[^1]: абсолютный путь до входной ленты и абсолютный путь до рабочей папки должен быть одинаковым
